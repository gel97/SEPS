<div
  style="
    background-color: rgba(0, 123, 255, 0.2);
    min-height: 100vh;
    padding: 20px;
  "
>
  <div class="container">
    <div
      class="header d-flex justify-content-between align-items-center bg-white p-3 rounded mb-4 shadow"
    >
      <img src="assets/img/davnor.png" alt="Left Logo" style="height: 80px" />

      <div class="text-center">
        <div class="d-flex align-items-center justify-content-center">
          <span class="fw-bold" style="color: orange; font-size: 3rem"
            >Davnor</span
          >
          <span class="fw-bold mx-2" style="color: blue; font-size: 3rem"
            >User</span
          >
          <span class="fw-bold" style="color: #2f4f4f; font-size: 3rem"
            >Guest</span
          >
        </div>
        <div class="fw-semibold" style="font-size: 1.2rem; color: #555">
          Socio Economic Profiling System
        </div>
      </div>

      <img src="assets/img/one.png" alt="Right Logo" style="height: 80px" />
    </div>

    <div class="card o-hidden border-0 shadow-lg my-5">
      <div class="card-body p-4">
        <div class="row">
          <!-- Image Section -->
          <div
            class="col-lg-6 d-none d-lg-flex align-items-center justify-content-center bg-light"
          >
            <img
              src="assets/img/desk.png"
              alt="Desk Image"
              class="img-fluid p-4"
              style="max-height: 400px"
            />
          </div>

          <!-- Form Section -->
          <div class="col-lg-6">
            <div class="row">
              <!-- Name Fields -->
              <div class="col-lg-6 mb-3">
                <label>Firstname:</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="user.fullName"
                  [ngClass]="toValidate.fullName ? 'is-invalid' : ''"
                  (keyup)="toValidate.fullName = false"
                />
              </div>
              <div class="col-lg-6 mb-3">
                <label>Lastname:</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="user.lastname"
                  [ngClass]="toValidate.lastname ? 'is-invalid' : ''"
                  (keyup)="toValidate.lastname = false"
                />
              </div>

              <!-- Other Info -->
              <div class="col-lg-12 mb-3">
                <label>Occupation:</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="user.occupation"
                  [ngClass]="toValidate.occupation ? 'is-invalid' : ''"
                  (keyup)="toValidate.occupation = false"
                />
              </div>
              <div class="col-lg-12 mb-3">
                <label>Offices / Agencies / School Name / Municipality:</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="user.guestUserType"
                />
              </div>

              <!-- [ngClass]="toValidate.munCityId ? 'is-invalid' : ''" -->

              <!-- <div class="col-lg-6 mb-3">
                <label>Municipality / City:</label>
                <select class="form-select" [(ngModel)]="user.munCityId">
                  <option
                    *ngFor="let item of list_muncity"
                    [value]="item.munCityId"
                  >
                    {{ item.munCityName }}
                  </option>
                </select>
              </div> -->
              <div class="row mb-3">
                <!-- Age -->
                <div class="col-lg-6">
                  <label class="form-label">Age:</label>
                  <input
                    type="number"
                    class="form-control"
                    [(ngModel)]="user.age"
                  />
                </div>

                <!-- Gender -->
                <div class="col-lg-6">
                  <label class="form-label fw-bold text-gray-900 me-3"
                    >Gender:</label
                  >
                  <div class="d-flex align-items-center mt-1">
                    <div class="form-check me-3">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="gender"
                        id="male"
                        value="male"
                        [(ngModel)]="user.gender"
                      />
                      <label class="form-check-label" for="male">Male</label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="gender"
                        id="female"
                        value="female"
                        [(ngModel)]="user.gender"
                      />
                      <label class="form-check-label" for="female"
                        >Female</label
                      >
                    </div>
                  </div>
                </div>
              </div>

              <!-- Username -->
              <div class="col-lg-12 mb-2">
                <label>Username:</label>
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    [(ngModel)]="user.username"
                    (ngModelChange)="UsernameCheck($event)"
                    [ngClass]="toValidate.username ? 'is-invalid' : ''"
                    (keyup)="toValidate.username = false"
                  />
                  <span class="input-group-text">
                    <div *ngIf="isLoading; else show">
                      <div
                        class="spinner-border spinner-border-sm"
                        role="status"
                      ></div>
                    </div>
                    <ng-template #show>
                      <i
                        *ngIf="errorUname; else notError"
                        class="fa fa-times text-danger"
                        aria-hidden="true"
                      ></i>
                      <ng-template #notError>
                        <i
                          class="fa fa-check text-success"
                          aria-hidden="true"
                        ></i>
                      </ng-template>
                    </ng-template>
                  </span>
                </div>
                <small
                  *ngIf="user.username?.length > 0 && user.username?.length < 8"
                  class="text-warning"
                >
                  Minimum of 8 characters.
                </small>
              </div>

              <!-- Passwords -->
              <div class="col-lg-6 mb-3">
                <label>Password:</label>
                <input
                  type="password"
                  class="form-control"
                  [(ngModel)]="user.password"
                  [ngClass]="toValidate.password ? 'is-invalid' : ''"
                  (keyup)="toValidate.password = false"
                />
              </div>
              <div class="col-lg-6 mb-3">
                <label>Confirm Password:</label>
                <input
                  type="password"
                  class="form-control"
                  [(ngModel)]="user.confirmPassword"
                  [ngClass]="toValidate.confirmPassword ? 'is-invalid' : ''"
                  (keyup)="toValidate.confirmPassword = false"
                />
              </div>

              <!-- Email -->
              <div class="col-lg-12 mb-3">
                <label>Email:</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="user.email"
                />
              </div>
              <div class="text-center mb-3">
                <button
                  type="button"
                  class="btn btn-info fw-bold"
                  data-bs-toggle="modal"
                  data-bs-target="#privacyModal"
                >
                  (DATA PRIVACY AGREEMENT)
                </button>
              </div>
              <!-- Submit Button -->
              <div class="col-lg-12">
                <button
                  class="btn btn-primary w-100"
                  (click)="isLoadingSubmit ? '' : Register()"
                >
                  <div *ngIf="isLoadingSubmit; else submit">
                    <div
                      class="spinner-border spinner-border-sm mb-1"
                      role="status"
                    ></div>
                    &nbsp; SUBMITTING ...
                  </div>
                  <ng-template #submit>SUBMIT</ng-template>
                </button>
              </div>
              <div class="text-center">
                <a class="small" routerLink="/login"
                  >Already have an account? Login!</a
                >
              </div>
              <div class="d-flex justify-content-center">
                <div class="form-check my-3">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="privacyCheck"
                    [(ngModel)]="user.acceptPrivacy"
                    name="acceptPrivacy"
                  />
                  <label class="form-check-label" for="privacyCheck">
                    I Accept the
                    <a href="path/to/privacy-agreement.pdf" target="_blank"
                      >Data Privacy Agreement</a
                    >
                  </label>
                </div>
              </div>
            </div>
            <!-- row -->
          </div>
          <!-- col-lg-6 -->
        </div>
        <!-- row -->
      </div>
      <!-- card-body guest-select-login -->
    </div>
    <!-- card -->
    <!-- Privacy Modal -->
    <div
      class="modal fade"
      id="privacyModal"
      tabindex="-1"
      aria-labelledby="privacyModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="privacyModalLabel">
              Data Privacy Agreement
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-justify">
            The personal data you provided in this registration will be
            processed by the Provincial Government of Davao del Norte (PGDDN)
            for the purpose of establishing a database for all SEPS Online users
            to be used as basis for personal verification or authentication of
            the registered user as contact information and other transactions
            such as retrieval of lost password. PGDDN commits to implement
            appropriate security measures to ensure confidentiality, integrity
            and availability of personal data collected through this form. PGDDN
            will not share your personal data, unless with your written consent
            or as may be provided for by existing laws and regulations.
            <br /><br />
            These personal data will be stored and retained for as long as these
            will be needed and in accordance with the provisions of Data Privacy
            Act of 2012 (R.A. 10173) and other applicable laws and regulations.
            As a data subject, you have and may exercise your rights as
            enumerated under Section 16-18 of RA 10173.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- container -->
</div>

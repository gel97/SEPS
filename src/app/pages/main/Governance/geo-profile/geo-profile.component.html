<div class="">
  <ng-template #isEmpty>
    <app-import
      [data]="message"
      (importData)="importMethod()"
      (testEvent)="parentMethod()"
    ></app-import>
    <app-export-excel apiControllerName="PhyGeoProf"></app-export-excel>
  </ng-template>

  <div *ngIf="showOverlay">
    <app-import-loading></app-import-loading>
  </div>

  <div
    *ngIf="viewData; else isEmpty"
    class="card o-hidden border-2 shadow-sm my-5"
  >
    <!-- gmap modal area -->
    <!-- <div
      class="modal fade"
      id="gmapModal2"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              SEPS GEOLOCATION TAGGING
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <app-gmap></app-gmap>
            <div class="modal-footer">
              <app-admin>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Close
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  (click)="updateGeo()"
                >
                  Update Geo
                </button>
              </app-admin>
            </div>
          </div>
        </div>
      </div>
    </div> -->
    <div class="card-body p-0">
      <!-- Nested Row within Card Body -->
      <div class="row">
        <div class="col-lg-12">
          <div class="p-5">
            <div class="col-lg-12">
              <div class="p-5">
                <div class="text-center">
                  <h1 class="h4 text-gray-900 mb-4">
                    Physical / Geographic Profile
                  </h1>
                  <label
                    ><strong
                      >Governance - {{ modifyCityMun(munCityName) }}
                    </strong></label
                  ><br />
                </div>
                <div class="x-space-between">
                  <div class="x-space-between">
                    <app-export-excel
                      apiControllerName="PhyGeoProf"
                    ></app-export-excel>
                  </div>
                  <div class="x-space-between">
                    <app-admin>
                      <app-pdf (myEvent)="GeneratePDF()"></app-pdf>
                    </app-admin>
                  </div>
                </div>
                <br />
                <ul class="nav nav-tabs pb-2">
                  <li class="nav-item" (click)="handleOnTabChange(true)">
                    <a
                      class="nav-link x-cursor"
                      [ngClass]="isPhyGeoBrgy ? 'active fw-bold' : ''"
                      aria-current="page"
                      >Municipality/City
                    </a>
                  </li>
                  <li class="nav-item" (click)="handleOnTabChange(false)">
                    <a
                      class="nav-link x-cursor"
                      [ngClass]="!isPhyGeoBrgy ? 'active fw-bold' : ''"
                      >Barangay</a
                    >
                  </li>
                </ul>
                <div class="table-responsive" *ngIf="isPhyGeoBrgy">
                  <table class="table table-striped">
                    <thead class="table-dark">
                      <tr>
                        <th style="width: 400px">
                          <strong
                            >1. Existing Land Use -
                            {{ modifyCityMun(munCityName) }}</strong
                          >
                        </th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_TLandArea"
                            >Total Land Area (Has):</label
                          >
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="totalLandArea"
                            name="totalLandArea"
                            [(ngModel)]="geo.totalLandArea"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.totalLandArea ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.totalLandArea = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_1AsOfYear"
                            >As of Year :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="setYear"
                            name="setYear"
                            [(ngModel)]="geo.setYear"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [(ngModel)]="geo.setYear"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="toValidate.setYear ? 'is-invalid' : ''"
                            (keyup)="toValidate.setYear = false"
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <table class="table table-striped">
                    <thead class="table-dark">
                      <tr>
                        <th style="width: 400px">
                          <strong><strong>Area in Hectares</strong></strong>
                        </th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_residential"
                            >a. Residential :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="residential"
                            name="residential"
                            [(ngModel)]="geo.residential"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.residential ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.residential = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Commercial"
                            >b. Commercial:
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="commercial"
                            name="commercial"
                            [(ngModel)]="geo.commercial"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.commercial ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.commercial = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Industrial"
                            >c. Industrial :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="industrial"
                            name="industrial"
                            [(ngModel)]="geo.industrial"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.industrial ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.industrial = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Agricultural"
                            >d. Agricultural:
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="agricultural"
                            name="agricultural"
                            [(ngModel)]="geo.agricultural"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.agricultural ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.agricultural = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Institutional"
                            >e. Institutional :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="institutional"
                            name="institutional"
                            [(ngModel)]="geo.institutional"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.institutional ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.institutional = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_ForestLands"
                            >f. Forest Lands :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="forestLand"
                            name="forestLand"
                            [(ngModel)]="geo.forestLand"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.forestLand ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.forestLand = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_OpenSpaces"
                            >g. Open Spaces :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="openSpaces"
                            name="openSpaces"
                            [(ngModel)]="geo.openSpaces"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.openSpaces ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.openSpaces = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Fishpond"
                            >h. Fishpond :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="fishpond"
                            name="fishpond"
                            [(ngModel)]="geo.fishpond"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="toValidate.fishpond ? 'is-invalid' : ''"
                            (keyup)="toValidate.fishpond = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_QuarryAreas"
                            >i. Quarry Areas :
                          </label>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control"
                            id="quarryAreas"
                            name="quarryAreas"
                            [(ngModel)]="geo.quarryAreas"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.quarryAreas ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.quarryAreas = false"
                            pattern="^\d*\.?\d+$"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_OtherUses"
                            >j. Other Uses :
                          </label>
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control"
                            id="otherUses"
                            name="otherUses"
                            [(ngModel)]="geo.otherUses"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="toValidate.otherUses ? 'is-invalid' : ''"
                            (keyup)="toValidate.otherUses = false"
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <table class="table table-striped">
                    <thead class="table-dark">
                      <tr>
                        <th style="width: 400px">
                          <strong>2. Land Reclassification</strong>
                        </th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_TAreaReclassified"
                            >Total Area Reclassified :
                          </label>
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control"
                            id="reclassified"
                            name="reclassified"
                            [(ngModel)]="geo.reclassified"
                            [disabled]="inputDisabled"
                            placeholder=""
                            [ngClass]="
                              toValidate.reclassified ? 'is-invalid' : ''
                            "
                            (keyup)="toValidate.reclassified = false"
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Remarks"
                            >Remarks :
                          </label>
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control"
                            id="remarks"
                            name="remarks"
                            [(ngModel)]="geo.remarks"
                            [disabled]="inputDisabled"
                            placeholder=""
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <table class="table table-striped">
                    <thead class="table-dark">
                      <tr>
                        <th style="width: 400px">
                          <strong>3.Geo-Coord. (Long, Lat)</strong>
                        </th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_TAreaReclassified"
                            >Longitude :
                          </label>
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control"
                            id="longitude"
                            name="longitude"
                            [(ngModel)]="geo.longitude"
                            [disabled]="inputDisabled"
                            placeholder=""
                          />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label class="labelForm" for="geo_Remarks"
                            >Latitude :
                          </label>
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control"
                            id="latitude"
                            name="latitude"
                            [(ngModel)]="geo.latitude"
                            [disabled]="inputDisabled"
                            placeholder=""
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="form-inline float-right">
                    <div class="d-inline-flex">
                      <button
                        type="button"
                        class="btn btn-primary"
                        *ngIf="!ViewGeo"
                        (click)="AddGeo()"
                      >
                        <i class="fa fa-plus"></i>Save Data
                      </button>
                      <div class="d-inline-flex" *ngIf="ViewGeo">
                        <app-admin>
                          <button
                            type="button"
                            title="Edit"
                            (click)="editgeo = geo"
                            class="btn btn-info btn-circle"
                            data-toggle="modal"
                            data-target="#exampleModalLong"
                          >
                            <i class="fa fa-pen"></i></button></app-admin
                        >&nbsp;
                        <app-admin>
                          <button
                            type="button"
                            title="Delete"
                            (click)="delete(geo.transId)"
                            class="btn btn-warning btn-circle"
                          >
                            <i class="fa fa-trash"></i></button></app-admin
                        >&nbsp;
                        <button
                          (click)="
                            SetMarker(munCity);
                            editgeo = munCity;
                            updateForm = false
                          "
                          class="btn btn-success btn-circle"
                          role="button"
                          data-toggle="modal"
                          data-target="#gmapModal"
                        >
                          <i class="fa fa-globe"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <!--Sources-->
                  <!-- ✅ Add Source Form -->
                  <app-admin>
                    <div *ngIf="showAddForm" class="card mt-4">
                      <div class="card-header bg-dark text-white">
                        Add Source
                      </div>
                      <div class="card-body">
                        <form (ngSubmit)="addSource()" #sourceForm="ngForm">
                          <div class="form-group">
                            <label for="sourceName">Source Name</label>
                            <input
                              type="text"
                              id="sourceName"
                              class="form-control"
                              name="sourceName"
                              [(ngModel)]="newSource.name"
                              placeholder="Enter source name"
                              required
                            />
                          </div>
                          <button
                            class="btn btn-primary mt-2"
                            [disabled]="!sourceForm.valid"
                          >
                            <i class="fas fa-plus"></i> Add
                          </button>
                        </form>
                      </div>
                    </div>
                  </app-admin>

                  <!-- ✅ Display Each Source -->
                  <div class="card mt-3" *ngFor="let source of sources">
                    <div class="card-body text-start">
                      <h5 class="card-title mb-2">Source: {{ source.name }}</h5>

                      <!-- ✏️ Edit Mode -->
                      <div
                        *ngIf="selectedSourceId === source.id; else viewMode"
                      >
                        <input
                          type="text"
                          class="form-control"
                          [(ngModel)]="newSource.name"
                          placeholder="Edit source name"
                        />
                        <div class="mt-2">
                          <app-admin>
                            <button
                              class="btn btn-success btn-sm me-1"
                              (click)="updateSource()"
                              title="Save"
                            >
                              <i class="fas fa-check"></i>
                            </button>
                            <button
                              class="btn btn-secondary btn-sm"
                              (click)="selectedSourceId = null"
                              title="Cancel"
                            >
                              <i class="fas fa-times"></i>
                            </button>
                          </app-admin>
                        </div>
                      </div>

                      <!-- 👁️ View Mode -->

                      <ng-template #viewMode>
                        <app-admin>
                          <button
                            class="btn btn-outline-dark btn-sm me-2"
                            (click)="editSource(source)"
                            title="Edit"
                          >
                            <i class="fas fa-edit"></i>
                          </button>
                          <button
                            class="btn btn-outline-danger btn-sm"
                            (click)="deleteSource(source.id)"
                            title="Delete"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </button>
                        </app-admin>
                      </ng-template>
                    </div>
                  </div>
                </div>
                <!--------------------PhyGeoBrgy--------------------------------------->
                <div class="table-responsive" *ngIf="!isPhyGeoBrgy">
                  <table class="table table-framed table-hover table-striped">
                    <thead class="table-dark">
                      <tr>
                        <th style="text-align: center">Barangay</th>
                        <th style="text-align: center">No. Purok</th>
                        <th style="text-align: center">
                          Total Land Area (Has)
                        </th>
                        <th style="text-align: center">As of Year</th>
                        <th style="text-align: center">Residential</th>
                        <th style="text-align: center">Commercial</th>
                        <th style="text-align: center">Industrial</th>
                        <th style="text-align: center">Agricultural</th>
                        <th style="text-align: center">Institutional</th>
                        <th style="text-align: center">Forest Lands</th>
                        <th style="text-align: center">Open Spaces</th>
                        <th style="text-align: center">Fishpond</th>
                        <th style="text-align: center">Quarry Areas</th>
                        <th style="text-align: center">Other Uses</th>
                        <th style="text-align: center">
                          Total Area Reclassifie
                        </th>
                        <th style="text-align: center">Remarks</th>
                        <!-- <th style="text-align: center;">Geo-Coord.</th> -->
                        <th style="text-align: center">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of listData; index as i">
                        <td>
                          <b>{{ item.brgyName }}</b>
                        </td>
                        <td style="text-align: center">
                          {{ item.purokNo }}
                        </td>
                        <td style="text-align: center">
                          {{ item.totalLandArea }}
                        </td>
                        <td style="text-align: center">
                          {{ item.asOfYear }}
                        </td>
                        <td style="text-align: center">
                          {{ item.residential }}
                        </td>
                        <td style="text-align: center">
                          {{ item.commercial }}
                        </td>
                        <td style="text-align: center">
                          {{ item.industrial }}
                        </td>
                        <td style="text-align: center">
                          {{ item.agriculture }}
                        </td>
                        <td style="text-align: center">
                          {{ item.institutional }}
                        </td>
                        <td style="text-align: center">
                          {{ item.forestLand }}
                        </td>
                        <td style="text-align: center">
                          {{ item.openSpaces }}
                        </td>
                        <td style="text-align: center">
                          {{ item.fishpond }}
                        </td>
                        <td style="text-align: center">
                          {{ item.quarryAreas }}
                        </td>
                        <td style="text-align: center">
                          {{ item.otherUses }}
                        </td>
                        <td style="text-align: center">
                          {{ item.reclassified }}
                        </td>
                        <td style="text-align: center">{{ item.remarks }}</td>
                        <!-- <td style="text-align: center;">{{ item.longtitude }}, {{ item.latitude }}</td> -->
                        <td *ngIf="item.transId; else isADD">
                          <div class="d-inline-flex">
                            <app-admin>
                              <button
                                (click)="data = item; isAdd = false"
                                class="btn btn-info btn-circle"
                                data-toggle="modal"
                                data-target="#openModal"
                              >
                                <i class="fa fa-pen"></i>
                              </button> </app-admin
                            >&nbsp;
                            <button
                              (click)="
                                SetMarker(item);
                                geobrgy = item;
                                updateForm = true
                              "
                              class="btn btn-success btn-circle"
                              role="button"
                              data-toggle="modal"
                              data-target="#gmapModal"
                            >
                              <i class="fa fa-globe"> </i></button
                            >&nbsp;
                            <app-admin>
                              <button
                                type="button"
                                title="Delete"
                                class="btn btn-warning btn-circle"
                                (click)="DeleteData(item.transId, i, item)"
                              >
                                <i class="fa fa-trash"></i></button
                              >&nbsp;
                            </app-admin>
                          </div>
                        </td>
                        <ng-template #isADD>
                          <td>
                            <app-admin>
                              <button
                                (click)="data = item; isAdd = true"
                                type="button"
                                class="btn btn-primary btn-circle"
                                data-toggle="modal"
                                data-target="#openModal "
                              >
                                <i class="fa fa-plus"></i>
                              </button>
                            </app-admin>
                          </td>
                        </ng-template>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade bd-example-modal-lg"
  id="openModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myLargeModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalScrollableTitle">
          Physical / Geographic Profile
        </h5>
        <button
          type="button"
          #closebutton
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-12">
            <label> Barangay:</label>
            <input
              type="text"
              class="form-control mb-2"
              [(ngModel)]="data.brgyName"
              readonly
            />
          </div>
          <div class="row">
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="purokNo"
                  name="purokNo"
                  [(ngModel)]="data.purokNo"
                  placeholder=""
                  pattern="^\d*\.?\d+$"
                />
                <label for="floatingInput">No. Purok</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="totalLandArea"
                  [(ngModel)]="data.totalLandArea"
                  name="data"
                />
                <label for="floatingInput">Land (Area)</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  [(ngModel)]="data.asOfYear"
                  placeholder="AsofYear"
                  name="data"
                />
                <label for="floatingInput">As of Year</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Residential"
                  [(ngModel)]="data.residential"
                  name="data"
                />
                <label for="floatingInput">Residential</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Commercial"
                  [(ngModel)]="data.commercial"
                  name="data"
                />
                <label for="floatingInput">Commercial</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Agricultural"
                  [(ngModel)]="data.agriculture"
                  name="data"
                />
                <label for="floatingInput">Agricultural</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Institutional"
                  [(ngModel)]="data.institutional"
                  name="data"
                />
                <label for="floatingInput">Institutional</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="ForestLands"
                  [(ngModel)]="data.forestLand"
                  name="data"
                />
                <label for="floatingInput">Forest Lands</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Industrial"
                  [(ngModel)]="data.industrial"
                  name="data"
                />
                <label for="floatingInput">Industrial</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="OpenSpaces"
                  [(ngModel)]="data.openSpaces"
                  name="data"
                />
                <label for="floatingInput">Open Spaces</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Fishpond"
                  [(ngModel)]="data.fishpond"
                  name="data"
                />
                <label for="floatingInput">Fishpond</label>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control"
                  id="floatingInput"
                  placeholder="QuarryAreas"
                  [(ngModel)]="data.quarryAreas"
                  name="data"
                />
                <label for="floatingInput">Quarry Areas</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Other Uses"
                  [(ngModel)]="data.otherUses"
                  name="data"
                />
                <label for="floatingInput">Other Uses</label>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="floatingInput"
                  placeholder="reclassified"
                  [(ngModel)]="data.reclassified"
                  name="data"
                />
                <label for="floatingInput">Total Area Reclassifie</label>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Remarks"
                  [(ngModel)]="data.remarks"
                  name="data"
                />
                <label for="floatingInput">Remarks</label>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
          <button
            type="button"
            class="btn btn-primary"
            (click)="isAdd ? AddData() : EditData()"
          >
            Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!--End of Barangay-------------------------->
<!-- Modal For Update MunGeo -->
<div
  class="modal fade"
  id="exampleModalLong"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLongTitle"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Update your Data</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-6">
            <label class="labelForm" for="geo_TLandArea"
              >Total Land Area (Has):
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="totalLandArea"
              name="totalLandArea"
              [(ngModel)]="editgeo.totalLandArea"
              placeholder=""
              [ngClass]="toValidate.totalLandArea ? 'is-invalid' : ''"
              (keyup)="toValidate.totalLandArea = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_1AsOfYear">As of Year : </label>
            <input
              type="number"
              class="form-control mb-2"
              id="setYear"
              name="setYear"
              [(ngModel)]="editgeo.setYear"
              placeholder=""
              [ngClass]="toValidate.setYear ? 'is-invalid' : ''"
              (keyup)="toValidate.setYear = false"
            />
          </div>
        </div>
        <label class="labelTitles"><strong>Area in Hectares</strong></label>
        <div class="row">
          <div class="col-lg-6">
            <label class="labelForm" for="geo_residential"
              >a. Residential :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="residential"
              name="residential"
              [(ngModel)]="editgeo.residential"
              placeholder=""
              [ngClass]="toValidate.residential ? 'is-invalid' : ''"
              (keyup)="toValidate.residential = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Commercial"
              >b. Commercial:
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="commercial"
              name="commercial"
              [(ngModel)]="editgeo.commercial"
              placeholder=""
              [ngClass]="toValidate.commercial ? 'is-invalid' : ''"
              (keyup)="toValidate.commercial = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Industrial"
              >c. Industrial :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="industrial"
              name="industrial"
              [(ngModel)]="editgeo.industrial"
              placeholder=""
              [ngClass]="toValidate.industrial ? 'is-invalid' : ''"
              (keyup)="toValidate.industrial = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Agricultural"
              >d. Agricultural:
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="agricultural"
              name="agricultural"
              [(ngModel)]="editgeo.agricultural"
              placeholder=""
              [ngClass]="toValidate.agricultural ? 'is-invalid' : ''"
              (keyup)="toValidate.agricultural = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Institutional"
              >e. Institutional :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="institutional"
              name="institutional"
              [(ngModel)]="editgeo.institutional"
              placeholder=""
              [ngClass]="toValidate.institutional ? 'is-invalid' : ''"
              (keyup)="toValidate.institutional = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_ForestLands"
              >f. Forest Lands :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="forestLand"
              name="forestLand"
              [(ngModel)]="editgeo.forestLand"
              placeholder=""
              [ngClass]="toValidate.forestLand ? 'is-invalid' : ''"
              (keyup)="toValidate.forestLand = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_OpenSpaces"
              >g. Open Spaces :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="openSpaces"
              name="openSpaces"
              [(ngModel)]="editgeo.openSpaces"
              placeholder=""
              [ngClass]="toValidate.openSpaces ? 'is-invalid' : ''"
              (keyup)="toValidate.openSpaces = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Fishpond">h. Fishpond : </label>
            <input
              type="number"
              class="form-control mb-2"
              id="fishpond"
              name="fishpond"
              [(ngModel)]="editgeo.fishpond"
              placeholder=""
              [ngClass]="toValidate.fishpond ? 'is-invalid' : ''"
              (keyup)="toValidate.fishpond = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_QuarryAreas"
              >i. Quarry Areas :
            </label>
            <input
              type="number"
              class="form-control mb-2"
              id="quarryAreas"
              name="quarryAreas"
              [(ngModel)]="editgeo.quarryAreas"
              placeholder=""
              [ngClass]="toValidate.quarryAreas ? 'is-invalid' : ''"
              (keyup)="toValidate.quarryAreas = false"
              pattern="^\d*\.?\d+$"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_OtherUses"
              >j. Other Uses :
            </label>
            <input
              type="text"
              class="form-control mb-2"
              id="otherUses"
              name="otherUses"
              [(ngModel)]="editgeo.otherUses"
              placeholder=""
              [ngClass]="toValidate.otherUses ? 'is-invalid' : ''"
              (keyup)="toValidate.otherUses = false"
            />
          </div>
        </div>
        <label class="labelTitles"
          ><strong>2. Land Reclassification</strong></label
        >
        <div class="row">
          <div class="col-lg-6">
            <label class="labelForm" for="geo_TAreaReclassified"
              >Total Area Reclassified :
            </label>
            <input
              type="text"
              class="form-control mb-2"
              id="reclassified"
              name="reclassified"
              [(ngModel)]="editgeo.reclassified"
              placeholder=""
              [ngClass]="toValidate.reclassified ? 'is-invalid' : ''"
              (keyup)="toValidate.reclassified = false"
            />
          </div>
          <div class="col-lg-6">
            <label class="labelForm" for="geo_Remarks">Remarks : </label>
            <input
              type="text"
              class="form-control mb-2"
              id="remarks"
              name="remarks"
              [(ngModel)]="editgeo.remarks"
              placeholder=""
            />
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="update_Geo()">
            <i class="fa fa-check"></i>Save Changes</button
          >&nbsp;
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            <i class="fa fa-times"></i>Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!--Geobrgy-->
<div
  class="modal fade"
  id="gmapModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          SEPS GEOLOCATION TAGGING
        </h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-gmap></app-gmap>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>

        <button
          type="button"
          class="btn btn-primary"
          *ngIf="!updateForm"
          (click)="updateGeo()"
          style="font-size: 15px"
        >
          updateGeo
        </button>
        <button
          type="button"
          class="btn btn-primary"
          *ngIf="updateForm"
          (click)="updateM()"
          style="font-size: 15px"
        >
          updateM
        </button>
      </div>
    </div>
  </div>
</div>
